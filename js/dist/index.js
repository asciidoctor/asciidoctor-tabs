/* Generated by Opal 0.11.99.dev */
(function(Opal) {
  function $rb_minus(lhs, rhs) {
    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);
  }
  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.const_get_qualified, $$ = Opal.const_get_relative, $breaker = Opal.breaker, $slice = Opal.slice, $module = Opal.module, $klass = Opal.klass, $hash2 = Opal.hash2, $truthy = Opal.truthy, $send = Opal.send;

  Opal.add_stubs(['$use_dsl', '$on_context', '$create_block', '$[]', '$blocks', '$parse_content', '$==', '$size', '$context', '$items?', '$attr?', '$document', '$id', '$id=', '$-', '$set_attr', '$counter', '$attributes', '$<<', '$create_html_fragment', '$add_role', '$create_list', '$backend', '$list_item_supports_id?', '$each', '$items', '$map', '$generate_id', '$text', '$instance_variable_get', '$text=', '$text?', '$create_paragraph', '$blocks?', '$unshift', '$[]=', '$join', '$private', '$delete', '$instance_variable_defined?', '$converter', '$convert', '$tap', '$create_list_item', '$instance_variable_set', '$include?']);
  return (function($base, $parent_nesting) {
    var self = $module($base, 'Asciidoctor');

    var $nesting = [self].concat($parent_nesting);

    (function($base, $parent_nesting) {
      var self = $module($base, 'Tabs');

      var $nesting = [self].concat($parent_nesting);

      (function($base, $super, $parent_nesting) {
        var self = $klass($base, $super, 'Block');

        var $nesting = [self].concat($parent_nesting), $Block_process$1, $Block_create_html_fragment$6, $Block_generate_id$7, $Block_list_item_supports_id$ques$8;

        
        self.$use_dsl();
        self.$on_context("example");
        
        Opal.def(self, '$process', $Block_process$1 = function $$process(parent, reader, attrs) {
          var $a, $b, $$2, $$4, self = this, block = nil, children = nil, source_tabs = nil, doc = nil, $writer = nil, reftext = nil, tabset_number = nil, id = nil, tabs = nil, panes = nil, set_id_on_tab = nil;

          
          block = self.$create_block(parent, attrs['$[]']("cloaked-context"), nil, attrs, $hash2(["content_model"], {"content_model": "compound"}));
          children = self.$parse_content(block, reader).$blocks();
          if ($truthy(($truthy($a = (($b = children.$size()['$=='](1)) ? (source_tabs = children['$[]'](0)).$context()['$==']("dlist") : children.$size()['$=='](1))) ? source_tabs['$items?']() : $a))) {
          } else {
            return block
          };
          if ($truthy((doc = parent.$document())['$attr?']("filetype", "html"))) {
          } else {
            
            ($truthy($a = source_tabs.$id()) ? $a : (($writer = [attrs['$[]']("id")]), $send(source_tabs, 'id=', Opal.to_a($writer)), $writer[$rb_minus($writer["length"], 1)]));
            if ($truthy(source_tabs['$attr?']("reftext"))) {
            } else {
              ($truthy($a = (reftext = attrs['$[]']("reftext"))) ? source_tabs.$set_attr("reftext", reftext) : $a)
            };
            return source_tabs;
          };
          tabset_number = doc.$counter("tabset-number");
          id = ($truthy($a = attrs['$[]']("id")) ? $a : "" + (($truthy($b = doc.$attributes()['$[]']("idprefix")) ? $b : "_")) + "tabset" + (tabset_number));
          parent['$<<'](self.$create_html_fragment(parent, "" + "<div id=\"" + (id) + "\" class=\"tabset is-loading\">"));
          (tabs = self.$create_list(parent, "ulist")).$add_role("tabs");
          panes = $hash2([], {});
          set_id_on_tab = ($truthy($a = doc.$backend()['$==']("html5")) ? $a : self['$list_item_supports_id?'](doc));
          $send(source_tabs.$items(), 'each', [], ($$2 = function(labels, content){var self = $$2.$$s || this, $$3, $c, $d, tab_ids = nil, text = nil, block0 = nil, blocks = nil;

          
            
            if (labels == null) {
              labels = nil;
            };
            
            if (content == null) {
              content = nil;
            };
            tab_ids = $send(labels, 'map', [], ($$3 = function(tab){var self = $$3.$$s || this, tab_id = nil;

            
              
              if (tab == null) {
                tab = nil;
              };
              tabs['$<<'](tab);
              tab_id = self.$generate_id(tab.$text(), id, doc);
              if ($truthy(set_id_on_tab)) {
                
                
                $writer = [tab_id];
                $send(tab, 'id=', Opal.to_a($writer));
                $writer[$rb_minus($writer["length"], 1)];;
              } else {
                
                
                $writer = ["" + "[[" + (tab_id) + "]]" + (tab.$instance_variable_get("@text"))];
                $send(tab, 'text=', Opal.to_a($writer));
                $writer[$rb_minus($writer["length"], 1)];;
              };
              return tab_id;}, $$3.$$s = self, $$3.$$arity = 1, $$3));
            if ($truthy(content)) {
              
              if ($truthy(content['$text?']())) {
                text = self.$create_paragraph(parent, content.$instance_variable_get("@text"), nil)};
              if ($truthy(content['$blocks?']())) {
                
                if ($truthy(($truthy($c = (($d = (block0 = (blocks = content.$blocks())['$[]'](0)).$context()['$==']("open")) ? blocks.$size()['$=='](1) : (block0 = (blocks = content.$blocks())['$[]'](0)).$context()['$==']("open"))) ? block0['$blocks?']() : $c))) {
                  blocks = block0.$blocks()};
                if ($truthy(text)) {
                  blocks.$unshift(text)};
              } else if ($truthy(text)) {
                blocks = [text]};};
            
            $writer = [tab_ids, ($truthy($c = blocks) ? $c : [])];
            $send(panes, '[]=', Opal.to_a($writer));
            return $writer[$rb_minus($writer["length"], 1)];;}, $$2.$$s = self, $$2.$$arity = 2, $$2));
          parent['$<<'](tabs);
          parent['$<<'](self.$create_html_fragment(parent, "<div class=\"content\">"));
          $send(panes, 'each', [], ($$4 = function(tab_ids, blocks){var self = $$4.$$s || this, $$5;

          
            
            if (tab_ids == null) {
              tab_ids = nil;
            };
            
            if (blocks == null) {
              blocks = nil;
            };
            parent['$<<'](self.$create_html_fragment(parent, "" + "<div class=\"tab-pane\" aria-labelledby=\"" + (tab_ids.$join(" ")) + "\">"));
            $send(blocks, 'each', [], ($$5 = function(it){var self = $$5.$$s || this;

            
              
              if (it == null) {
                it = nil;
              };
              return parent['$<<'](it);}, $$5.$$s = self, $$5.$$arity = 1, $$5));
            return parent['$<<'](self.$create_html_fragment(parent, "</div>"));}, $$4.$$s = self, $$4.$$arity = 2, $$4));
          parent['$<<'](self.$create_html_fragment(parent, "</div>"));
          return self.$create_html_fragment(parent, "</div>", $hash2(["id"], {"id": id}));
        }, $Block_process$1.$$arity = 3);
        self.$private();
        
        Opal.def(self, '$create_html_fragment', $Block_create_html_fragment$6 = function $$create_html_fragment(parent, html, attributes) {
          var self = this;

          
          
          if (attributes == null) {
            attributes = nil;
          };
          return self.$create_block(parent, "pass", html, attributes);
        }, $Block_create_html_fragment$6.$$arity = -3);
        
        Opal.def(self, '$generate_id', $Block_generate_id$7 = function $$generate_id(str, base_id, doc) {
          var $a, self = this, restore_idprefix = nil, attrs = nil, $writer = nil;

          return (function() { try {
          
          restore_idprefix = (attrs = doc.$attributes())['$[]']("idprefix");
          
          $writer = ["idprefix", "" + (base_id) + (($truthy($a = attrs['$[]']("idseparator")) ? $a : "_"))];
          $send(attrs, '[]=', Opal.to_a($writer));
          $writer[$rb_minus($writer["length"], 1)];;
          return $$$($$$('::', 'Asciidoctor'), 'Section').$generate_id(str, doc);
          } finally {
            (function() {if ($truthy(restore_idprefix)) {
              
              
              $writer = ["idprefix", restore_idprefix];
              $send(attrs, '[]=', Opal.to_a($writer));
              return $writer[$rb_minus($writer["length"], 1)];;
            } else {
              
              return attrs.$delete("idprefix");
            }; return nil; })()
          }; })()
        }, $Block_generate_id$7.$$arity = 3);
        return (Opal.def(self, '$list_item_supports_id?', $Block_list_item_supports_id$ques$8 = function(doc) {
          var $$9, self = this, converter = nil, output = nil;

          if ($truthy((converter = doc.$converter())['$instance_variable_defined?']("@list_item_supports_id"))) {
            return converter.$instance_variable_get("@list_item_supports_id")
          } else {
            
            output = $send(self.$create_list(doc, "ulist"), 'tap', [], ($$9 = function(ul){var self = $$9.$$s || this, $$10;

            
              
              if (ul == null) {
                ul = nil;
              };
              return ul['$<<']($send(self.$create_list_item(ul), 'tap', [], ($$10 = function(li){var self = $$10.$$s || this, $writer = nil;

              
                
                if (li == null) {
                  li = nil;
                };
                $writer = ["name"];
                $send(li, 'id=', Opal.to_a($writer));
                return $writer[$rb_minus($writer["length"], 1)];}, $$10.$$s = self, $$10.$$arity = 1, $$10)));}, $$9.$$s = self, $$9.$$arity = 1, $$9)).$convert();
            return converter.$instance_variable_set("@list_item_supports_id", output['$include?'](" id=\"name\""));
          }
        }, $Block_list_item_supports_id$ques$8.$$arity = 1), nil) && 'list_item_supports_id?';
      })($nesting[0], $$$($$$($$$('::', 'Asciidoctor'), 'Extensions'), 'BlockProcessor'), $nesting)
    })($nesting[0], $nesting)
  })($nesting[0], $nesting)
})(Opal);

/* Generated by Opal 0.11.99.dev */
(function(Opal) {
  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.const_get_qualified, $$ = Opal.const_get_relative, $breaker = Opal.breaker, $slice = Opal.slice, $module = Opal.module, $klass = Opal.klass, $truthy = Opal.truthy, $hash2 = Opal.hash2;

  Opal.add_stubs(['$==', '$absolute_path', '$use_dsl', '$at_location', '$join', '$attr', '$empty?', '$read', '$read_contents', '$chomp']);
  return (function($base, $parent_nesting) {
    var self = $module($base, 'Asciidoctor');

    var $nesting = [self].concat($parent_nesting);

    (function($base, $parent_nesting) {
      var self = $module($base, 'Tabs');

      var $nesting = [self].concat($parent_nesting);

      (function($base, $parent_nesting) {
        var self = $module($base, 'Docinfo');

        var $nesting = [self].concat($parent_nesting);

        
        if ($$($nesting, 'RUBY_ENGINE')['$==']("opal")) {
          
          Opal.const_set($nesting[0], 'DATA_DIR', $$$('::', 'File').$absolute_path("../data", __dirname));
          Opal.const_set($nesting[0], 'FILE_READ_MODE', "r");
        } else {
          nil
        };
        (function($base, $super, $parent_nesting) {
          var self = $klass($base, $super, 'Styles');

          var $nesting = [self].concat($parent_nesting), $Styles_process$1;

          
          self.$use_dsl();
          self.$at_location("head");
          Opal.const_set($nesting[0], 'DEFAULT_STYLESHEET_FILE', $$$('::', 'File').$join($$($nesting, 'DATA_DIR'), "css/tabs.css"));
          return (Opal.def(self, '$process', $Styles_process$1 = function $$process(doc) {
            var self = this, path = nil, styles = nil;

            
            if ($truthy((path = doc.$attr("tabs-stylesheet")))) {
            } else {
              return nil
            };
            styles = (function() {if ($truthy(path['$empty?']())) {
              
              return $$$('::', 'File').$read($$($nesting, 'DEFAULT_STYLESHEET_FILE'), $hash2(["mode"], {"mode": $$($nesting, 'FILE_READ_MODE')}));
            } else {
              
              return doc.$read_contents(path, $hash2(["start", "warn_on_failure", "label"], {"start": doc.$attr("stylesdir"), "warn_on_failure": true, "label": "tabs stylesheet"}));
            }; return nil; })();
            if ($truthy(styles)) {
            } else {
              return nil
            };
            return "" + "<style>\n" + (styles.$chomp()) + "\n</style>";
          }, $Styles_process$1.$$arity = 1), nil) && 'process';
        })($nesting[0], $$$($$$($$$('::', 'Asciidoctor'), 'Extensions'), 'DocinfoProcessor'), $nesting);
        (function($base, $super, $parent_nesting) {
          var self = $klass($base, $super, 'Behavior');

          var $nesting = [self].concat($parent_nesting), $Behavior_process$2;

          
          self.$use_dsl();
          self.$at_location("footer");
          Opal.const_set($nesting[0], 'JAVASCRIPT_FILE', $$$('::', 'File').$join($$($nesting, 'DATA_DIR'), "js/tabs.js"));
          return (Opal.def(self, '$process', $Behavior_process$2 = function $$process(_doc) {
            var self = this;

            return "" + "<script>\n" + ($$$('::', 'File').$read($$($nesting, 'JAVASCRIPT_FILE'), $hash2(["mode"], {"mode": $$($nesting, 'FILE_READ_MODE')})).$chomp()) + "\n</script>"
          }, $Behavior_process$2.$$arity = 1), nil) && 'process';
        })($nesting[0], $$$($$$($$$('::', 'Asciidoctor'), 'Extensions'), 'DocinfoProcessor'), $nesting);
      })($nesting[0], $nesting)
    })($nesting[0], $nesting)
  })($nesting[0], $nesting)
})(Opal);

/* Generated by Opal 0.11.99.dev */
(function(Opal) {
  function $rb_minus(lhs, rhs) {
    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs - rhs : lhs['$-'](rhs);
  }
  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.const_get_qualified, $$ = Opal.const_get_relative, $breaker = Opal.breaker, $slice = Opal.slice, $module = Opal.module, $send = Opal.send, $truthy = Opal.truthy, $hash2 = Opal.hash2;

  Opal.add_stubs(['$==', '$module_function', '$proc', '$block', '$embedded?', '$!', '$attr?', '$attribute_locked?', '$key?', '$transform_keys', '$[]', '$options', '$delete', '$set_attr', '$docinfo_processor', '$groups', '$key', '$group', '$[]=', '$-']);
  
  if ($$($nesting, 'RUBY_ENGINE')['$==']("opal")) {
  } else {
    nil
  };
  return (function($base, $parent_nesting) {
    var self = $module($base, 'Asciidoctor');

    var $nesting = [self].concat($parent_nesting);

    (function($base, $parent_nesting) {
      var self = $module($base, 'Tabs');

      var $nesting = [self].concat($parent_nesting);

      (function($base, $parent_nesting) {
        var self = $module($base, 'Extensions');

        var $nesting = [self].concat($parent_nesting), $Extensions_group$1, $Extensions_key$4, $Extensions_register$5, $Extensions_unregister$6;

        
        self.$module_function();
        
        Opal.def(self, '$group', $Extensions_group$1 = function $$group() {
          var $$2, self = this;

          return $send(self, 'proc', [], ($$2 = function(){var self = $$2.$$s || this, $a, $b, $$3, doc = nil;
            if (self.document == null) self.document = nil;

          
            self.$block($$($nesting, 'Block'), "tabs");
            if ($truthy(($truthy($a = (doc = self.document)['$embedded?']()) ? $a : doc['$attr?']("filetype", "html")['$!']()))) {
              return nil;};
            if ($truthy(($truthy($a = doc['$attribute_locked?']("tabs-stylesheet")) ? $a : $send(($truthy($b = doc.$options()['$[]']("attributes")) ? $b : $hash2([], {})), 'transform_keys', [], ($$3 = function(it){var self = $$3.$$s || this;

            
              
              if (it == null) {
                it = nil;
              };
              return it.$delete("@!");}, $$3.$$s = self, $$3.$$arity = 1, $$3))['$key?']("tabs-stylesheet")))) {
            } else {
              doc.$set_attr("tabs-stylesheet")
            };
            self.$docinfo_processor($$$($$($nesting, 'Docinfo'), 'Styles'));
            self.$docinfo_processor($$$($$($nesting, 'Docinfo'), 'Behavior'));
            return nil;}, $$2.$$s = self, $$2.$$arity = 0, $$2))
        }, $Extensions_group$1.$$arity = 0);
        
        Opal.def(self, '$key', $Extensions_key$4 = function $$key() {
          var self = this;

          return "tabs"
        }, $Extensions_key$4.$$arity = 0);
        
        Opal.def(self, '$register', $Extensions_register$5 = function $$register(registry) {
          var $a, self = this, $logical_op_recvr_tmp_1 = nil, $writer = nil;

          
          
          if (registry == null) {
            registry = nil;
          };
          $logical_op_recvr_tmp_1 = ($truthy($a = registry) ? $a : $$$($$$('::', 'Asciidoctor'), 'Extensions')).$groups();
          return ($truthy($a = $logical_op_recvr_tmp_1['$[]'](self.$key())) ? $a : (($writer = [self.$key(), self.$group()]), $send($logical_op_recvr_tmp_1, '[]=', Opal.to_a($writer)), $writer[$rb_minus($writer["length"], 1)]));
        }, $Extensions_register$5.$$arity = -1);
        
        Opal.def(self, '$unregister', $Extensions_unregister$6 = function $$unregister(registry) {
          var $a, self = this;

          
          
          if (registry == null) {
            registry = nil;
          };
          ($truthy($a = registry) ? $a : $$$($$$('::', 'Asciidoctor'), 'Extensions')).$groups().$delete(self.$key());
          return nil;
        }, $Extensions_unregister$6.$$arity = -1);
      })($nesting[0], $nesting)
    })($nesting[0], $nesting)
  })($nesting[0], $nesting);
})(Opal);
